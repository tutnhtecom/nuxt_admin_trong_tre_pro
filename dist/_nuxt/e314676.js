(window.webpackJsonp=window.webpackJsonp||[]).push([[36,25,30],{1172:function(t,e,n){"use strict";n.r(e);var o,l=n(277),r=n(1157),d=n(1154),c=n(715),v=n(781),h=n(32),_=n(13),f=n(0),m=(n(42),n(6),n(25),n(20),n(15),n(28),n(37),n(2),n(3),n(65)),C=n(506),x=n.n(C),y=n(29),k=n.n(y),w={layout:"admin",components:{CustomerReport:n(808).default},data:function(){var t;return t={title:{name:"Báo cáo khách hàng",previous:"/admin/dashboard"},date:(new Date).toISOString().substr(0,7),month:1,menu:!1,modal:!1,selected:0,options:[{value:0,text:"Tất cả"},{value:1,text:"Giáo viên"}],data:null,per_page:0,current_page:1,total:0,dich_vu_id:"",dich_vu:[],leader_kd_id:"",leader_kd:[],tuKhoa:"",tuKhoaPH:"",thang:[{value:1,text:"Tháng 01"},{value:2,text:"Tháng 02"},{value:3,text:"Tháng 03"},{value:4,text:"Tháng 04"},{value:5,text:"Tháng 05"},{value:6,text:"Tháng 06"},{value:7,text:"Tháng 07"},{value:8,text:"Tháng 08"},{value:9,text:"Tháng 09"},{value:10,text:"Tháng 10"},{value:11,text:"Tháng 11"},{value:12,text:"Tháng 12"}],thang_id:"",timeOut:null,timer:700},Object(f.a)(t,"date",(new Date).toISOString()),Object(f.a)(t,"date1",(new Date).toISOString()),Object(f.a)(t,"modal1",!1),Object(f.a)(t,"trang_thai_text",""),Object(f.a)(t,"trang_thai_id",""),Object(f.a)(t,"trang_thai",[]),t},computed:{token:function(){return JSON.parse(localStorage.getItem("user")).auth_key}},methods:{load_type:function(){var t=this;return Object(_.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.default.get("don-dich-vu/trang-thai-don",{"Content-Type":"multipart/form-data",Authorization:"Bearer "+t.token}).then((function(e){var n,o;t.trang_thai.unshift({value:"",text:"Tất cả trạng thái"}),(n=t.trang_thai).push.apply(n,Object(h.a)(null==e||null===(o=e.data)||void 0===o?void 0:o.data.map((function(t){return{value:t.id,text:t.name}})))),t.trang_thai_id=t.trang_thai[0].value}));case 2:return e.next=4,m.default.get("dich-vu/danh-sach?page=1&limit=1000&sort=1&tuKhoa=",{"Content-Type":"multipart/form-data",Authorization:"Bearer "+t.token}).then((function(e){var n,o;t.dich_vu.unshift({value:"",text:"Tất cả dịch vụ"}),(n=t.dich_vu).push.apply(n,Object(h.a)(null==e||null===(o=e.data)||void 0===o?void 0:o.data.map((function(t){return{value:t.id,text:t.ten_dich_vu}})))),t.dich_vu_id=t.dich_vu[0].value}));case 4:return e.next=6,m.default.get("admin-api/danh-sach-leaderkd",{"Content-Type":"multipart/form-data",Authorization:"Bearer "+t.token}).then((function(e){var n,o;t.leader_kd.unshift({value:"",text:"Tìm theo leader"}),(n=t.leader_kd).push.apply(n,Object(h.a)(null==e||null===(o=e.data)||void 0===o?void 0:o.data.map((function(t){var e;return{value:t.id,text:null!==(e=t.hoten)&&void 0!==e?e:"chưa cập nhập tên - "+t.id}})))),t.leader_kd_id=t.leader_kd[0].value}));case 6:case"end":return e.stop()}}),e)})))()},load_data:function(){var t=this;return Object(_.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.default.get("bao-cao/danh-sach-khach-hang?dien_thoai=".concat(t.tuKhoa,"&tuKhoa=").concat(t.tuKhoaPH,"&leader_kd_id=").concat(t.leader_kd_id,"&dia_chi=&dich_vu_id=").concat(t.dich_vu_id,"&page=").concat(t.current_page,"&limit=10&sort=1")+"&tuNgay=".concat(t.date1,"&denNgay=").concat(t.date,"&trang_thai=").concat(t.trang_thai_text),{"Content-Type":"multipart/form-data",Authorization:"Bearer "+t.token}).then((function(e){var n,o,l,r,d,c;t.data=null==e||null===(n=e.data)||void 0===n?void 0:n.data,t.per_page=null!==(o=null==e||null===(l=e.data)||void 0===l?void 0:l.per_page)&&void 0!==o?o:0,t.current_page=null!==(r=null==e||null===(d=e.data)||void 0===d?void 0:d.current_page)&&void 0!==r?r:0,t.total=null==e||null===(c=e.data)||void 0===c?void 0:c.total}));case 2:case"end":return e.stop()}}),e)})))()},export_excel:function(){var t=this;return Object(_.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x.a.fire({title:"Đang xử lý yêu cầu!",html:"Vui lòng chờ...",timerProgressBar:!0}).then((function(t){t.dismiss===x.a.DismissReason.timer&&console.log("I was closed by the timer")})),e.next=3,m.default.get("bao-cao/export-excel-bao-cao-khach-hang?dien_thoai=&leader_kd_id=&dia_chi=&dich_vu_id=&thang=".concat(t.month,"&page=1&limit=&sort=")+"&tuNgay=".concat(t.date1,"&denNgay=").concat(t.date,"&trang_thai=").concat(t.trang_thai_text),{"Content-Type":"multipart/form-data",Authorization:"Bearer "+t.token}).then((function(t){var e;x.a.close(),k.a.success("Tải xuống thành công"),window.open(null==t||null===(e=t.data)||void 0===e?void 0:e.data)}));case 3:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=new Date,e=(o=t.getFullYear())+"-"+(n=("0"+(t.getMonth()+1)).slice(-2))+"-"+(l=("0"+t.getDate()).slice(-2));this.date=e;var n=("0"+t.getMonth()).slice(-2),o=t.getFullYear(),l=("0"+t.getDate()).slice(-2);this.date1=o+"-"+n+"-"+l,this.$store.dispatch("title/set_title",this.title),this.month=this.date.split("-")[2]+"/"+this.date.split("-")[1]+"/"+this.date.split("-")[0],this.$store.dispatch("title/set_title",this.title),this.month=this.date.split("-")[1]+"/"+this.date.split("-")[0],this.load_type(),this.load_data()},watch:(o={current_page:function(){this.load_data()},date:function(){console.log(this.date);var t=this.date.split("-");console.log(t),this.month=t[1]+"/"+t[0],this.load_data()},tuKhoa:function(){var t=this;clearTimeout(this.timeOut),this.timeOut=setTimeout((function(){t.load_data()}),this.timer)},tuKhoaPH:function(){var t=this;clearTimeout(this.timeOut),this.timeOut=setTimeout((function(){t.load_data()}),this.timer)},thang_id:function(){this.load_data()},dich_vu_id:function(){this.load_data()},leader_kd_id:function(){this.load_data()},trang_thai_id:function(){var t=this;this.trang_thai.forEach((function(element){var e;(console.log(element,t.trang_thai_id),element.value==t.trang_thai_id)&&(t.trang_thai_text=null!==(e=element.text)&&void 0!==e?e:"",t.load_data())}))}},Object(f.a)(o,"date",(function(){console.log(this.date);var t=this.date.split("-");console.log(t),this.month=t[2]+"/"+t[1]+"/"+t[0],this.load_data()})),Object(f.a)(o,"date1",(function(){console.log(this.date1);var t=this.date1.split("-");console.log(t),this.month=t[2]+"/"+t[1]+"/"+t[0],this.load_data()})),o)},I=(n(984),n(36)),component=Object(I.a)(w,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"content-mp"},[e("b-row",[e("b-col",{attrs:{cols:"12",sm:"10"}},[e("div",[e("div",{staticClass:"mb-4"},[e("title-header",[t._v("Tổng quan đơn hàng")])],1),t._v(" "),e("customer-report")],1),t._v(" "),e("div",{staticClass:"d-flex justify-content-between align-items-center mt-5"},[e("title-header",[t._v("Báo cáo khách hàng")]),t._v(" "),e("div",{staticClass:"d-inline-block"},[e("div",{staticClass:"d-inline-block"},[e("div",[e("div",{staticClass:"btn-export-excel",on:{click:function(e){return t.export_excel()}}},[e("svg",{attrs:{width:"15",height:"14",viewBox:"0 0 15 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M8.24833 7.02233C8.24833 9.30589 8.24794 11.5898 8.25023 13.8734C8.25023 13.9793 8.24566 14.0185 8.11422 13.9919C7.88259 13.9446 7.65058 13.8974 7.41742 13.857C7.01968 13.788 6.6269 13.6943 6.22726 13.6353C6.02191 13.6048 5.82038 13.5477 5.61542 13.5118C5.17806 13.4356 4.7426 13.3457 4.30715 13.2604C4.02752 13.2055 3.74598 13.1587 3.46672 13.0985C3.02403 13.0036 2.57486 12.9381 2.13255 12.8429C1.95692 12.8051 1.77977 12.7747 1.60414 12.7373C1.31308 12.6756 1.01858 12.631 0.725996 12.5766C0.561415 12.5461 0.398359 12.5087 0.233397 12.4794C0.175489 12.4691 0.158726 12.4398 0.16025 12.3868C0.162155 12.3129 0.161393 12.2386 0.161393 12.1647C0.161393 8.70433 0.161393 5.24395 0.162155 1.78318C0.162155 1.53098 0.171298 1.51345 0.418931 1.49402C0.611323 1.47916 0.79419 1.42164 0.982773 1.3904C1.36451 1.32677 1.7432 1.24487 2.12303 1.17172C2.48267 1.10276 2.84345 1.03914 3.20233 0.965992C3.63321 0.877988 4.06561 0.797602 4.49916 0.724455C4.63174 0.701978 4.76089 0.665404 4.89423 0.643689C5.22339 0.58959 5.5476 0.506157 5.87562 0.443677C6.27183 0.368244 6.66957 0.302336 7.06693 0.231475C7.1995 0.207855 7.33208 0.177758 7.46238 0.148804C7.65782 0.104992 7.85821 0.0867048 8.0506 0.0284158C8.23232 -0.0268254 8.24871 -0.0123484 8.24871 0.1709C8.24871 2.45446 8.24871 4.7384 8.24871 7.02195L8.24833 7.02233ZM4.20734 7.60484C4.22067 7.62503 4.23705 7.63837 4.23781 7.65208C4.24848 7.86733 4.36544 8.04449 4.46221 8.22316C4.70298 8.66776 4.93461 9.11617 5.16625 9.56533C5.22796 9.68496 5.29387 9.75125 5.45045 9.74363C5.80781 9.72611 6.16707 9.73868 6.52518 9.7383C6.68519 9.7383 6.70348 9.70972 6.61928 9.57105C6.38079 9.17712 6.13849 8.78548 5.8981 8.39308C5.6318 7.95839 5.36626 7.5237 5.0992 7.08939C5.05957 7.025 5.05043 6.96785 5.09272 6.89776C5.32549 6.51526 5.5537 6.13009 5.78571 5.74683C6.05353 5.30452 6.32365 4.86335 6.59185 4.42104C6.66424 4.3018 6.65243 4.28313 6.50499 4.28237C6.15487 4.28085 5.80438 4.28847 5.45464 4.27818C5.32778 4.27437 5.28092 4.33342 5.23025 4.43285C5.08129 4.72392 4.91518 5.0066 4.76622 5.29767C4.64888 5.52777 4.50259 5.74302 4.41078 5.98609C4.36315 6.11181 4.31782 6.23867 4.26639 6.37925C4.21343 6.23867 4.17457 6.11828 4.12314 6.00361C4.00085 5.73045 3.87513 5.45882 3.74598 5.18833C3.6134 4.91021 3.47129 4.63668 3.34291 4.35704C3.31129 4.28808 3.27243 4.28047 3.21147 4.28085C3.00955 4.28237 2.80764 4.28085 2.6061 4.28085C2.39199 4.28085 2.17751 4.27856 1.9634 4.28161C1.85711 4.28313 1.84149 4.31513 1.89292 4.40809C1.92644 4.46867 1.96264 4.52772 1.99692 4.58753C2.21141 4.96165 2.42323 5.33767 2.64077 5.71026C2.88612 6.13047 3.13642 6.54764 3.38481 6.96595C3.405 7.00024 3.40805 7.02767 3.38253 7.06653C3.12537 7.45779 2.86936 7.84943 2.61715 8.24374C2.31999 8.70814 2.02626 9.17522 1.73215 9.64191C1.71767 9.66477 1.68834 9.68725 1.70319 9.71811C1.71881 9.75049 1.75463 9.73677 1.78091 9.73677C2.20532 9.73792 2.62934 9.73639 3.05375 9.73906C3.11699 9.73944 3.15204 9.71315 3.17909 9.6621C3.38138 9.28037 3.58787 8.90092 3.78522 8.51651C3.89722 8.29822 4.02904 8.0902 4.11781 7.85895C4.14905 7.77742 4.15324 7.68485 4.20734 7.60446V7.60484Z",fill:"white"}}),t._v(" "),e("path",{attrs:{d:"M14.1621 7.00706C14.1621 8.6323 14.1564 10.2572 14.1667 11.8824C14.169 12.2283 13.9275 12.4058 13.6448 12.4047C12.0676 12.3994 10.4903 12.4009 8.91309 12.4047C8.79804 12.4047 8.76794 12.3731 8.76946 12.2603C8.7767 11.8077 8.77785 11.3551 8.77213 10.9029C8.77061 10.7939 8.80794 10.7749 8.90547 10.776C9.35845 10.7806 9.81143 10.7757 10.2644 10.7802C10.3616 10.7814 10.4012 10.7604 10.3981 10.6534C10.3909 10.3863 10.3901 10.1185 10.3981 9.85141C10.4019 9.72836 10.3505 9.69445 10.2393 9.69483C9.79466 9.69674 9.34969 9.69102 8.90509 9.69598C8.80185 9.69712 8.77137 9.66855 8.77365 9.5653C8.77937 9.29405 8.77937 9.02203 8.76984 8.75078C8.76604 8.64182 8.80566 8.62468 8.9028 8.62582C9.35578 8.63077 9.80876 8.62506 10.2617 8.63001C10.3631 8.63116 10.3977 8.60068 10.3958 8.49896C10.3909 8.2357 10.3909 7.97245 10.3974 7.7092C10.4004 7.58957 10.3509 7.55109 10.237 7.55148C9.79238 7.553 9.3474 7.54614 8.9028 7.54995C8.80032 7.55071 8.76794 7.52366 8.77061 7.41928C8.77784 7.13964 8.77708 6.85963 8.77061 6.57999C8.76832 6.48437 8.79918 6.4657 8.89061 6.46646C9.34359 6.47027 9.79657 6.46303 10.2495 6.46494C10.3558 6.46532 10.4019 6.44094 10.3977 6.32093C10.3882 6.05387 10.392 5.78604 10.3966 5.51898C10.3981 5.41916 10.365 5.38335 10.2617 5.38411C9.80457 5.38754 9.3474 5.38145 8.89061 5.38411C8.79766 5.38488 8.76984 5.35592 8.77137 5.26449C8.77594 4.98066 8.77708 4.69684 8.77061 4.41301C8.7687 4.32272 8.79956 4.30443 8.88261 4.3052C9.34778 4.30863 9.81333 4.30253 10.2785 4.30939C10.3974 4.31129 10.4256 4.26938 10.4229 4.16081C10.4172 3.91013 10.4214 3.65906 10.4214 3.408C10.4214 3.2598 10.3917 3.22437 10.2419 3.22361C9.79733 3.22094 9.35235 3.2179 8.90776 3.22399C8.79613 3.22552 8.77023 3.19237 8.77175 3.0857C8.77708 2.63729 8.77594 2.18889 8.77175 1.74048C8.77099 1.64943 8.78508 1.61285 8.89023 1.61285C10.4922 1.61666 12.0942 1.61476 13.6962 1.61552C13.9637 1.61552 14.1545 1.79191 14.1564 2.05745C14.1621 2.83083 14.1602 3.6042 14.1606 4.37758C14.161 5.25382 14.1606 6.13006 14.1606 7.00668H14.1614L14.1621 7.00706ZM12.018 10.7768V10.7776C12.335 10.7776 12.6523 10.7745 12.9693 10.7795C13.0623 10.781 13.0989 10.7608 13.0962 10.6583C13.0886 10.3829 13.087 10.107 13.0966 9.8316C13.1004 9.71731 13.0592 9.69369 12.9571 9.69445C12.3354 9.6975 11.7136 9.69788 11.0919 9.69407C10.9723 9.69331 10.9227 9.73255 10.9258 9.85522C10.9319 10.1265 10.9326 10.3981 10.9281 10.6694C10.9265 10.7597 10.9601 10.7791 11.0427 10.7783C11.3681 10.7745 11.6934 10.7768 12.0184 10.7768H12.018ZM12.0298 5.38678V5.38564C11.7174 5.38564 11.4047 5.39097 11.0923 5.38297C10.9688 5.37992 10.9243 5.42183 10.9265 5.54184C10.9315 5.80052 10.9338 6.05958 10.9273 6.31826C10.9243 6.4356 10.9753 6.46532 11.0808 6.46494C11.714 6.46189 12.3476 6.46151 12.9811 6.46303C13.0642 6.46303 13.0969 6.44056 13.095 6.35217C13.0901 6.06453 13.0908 5.7769 13.095 5.48926C13.0962 5.41078 13.0768 5.38335 12.9926 5.3845C12.6718 5.38983 12.351 5.3864 12.0302 5.3864L12.0298 5.38678ZM12.0218 8.62773C12.3346 8.62773 12.6474 8.62392 12.9598 8.63001C13.0581 8.63192 13.0981 8.61096 13.0954 8.50315C13.0886 8.22389 13.0893 7.94426 13.0954 7.66462C13.0973 7.57738 13.0691 7.55224 12.9853 7.55262C12.3476 7.5549 11.7098 7.55528 11.0721 7.55262C10.9719 7.55224 10.9281 7.59186 10.9284 7.68786C10.9296 7.96331 10.933 8.23837 10.9315 8.51382C10.9311 8.60677 10.9711 8.63039 11.0587 8.62925C11.3795 8.62506 11.7007 8.62773 12.0215 8.62773H12.0218ZM12.0116 4.30634C12.3369 4.30634 12.6623 4.30405 12.9876 4.30786C13.0653 4.30863 13.0966 4.29148 13.095 4.20652C13.0901 3.9227 13.0905 3.63887 13.095 3.35505C13.0962 3.27085 13.0729 3.23999 12.9853 3.24037C12.343 3.24304 11.7007 3.24266 11.0584 3.23923C10.9673 3.23885 10.93 3.27428 10.9303 3.36038C10.9315 3.64002 10.9345 3.91965 10.9319 4.19929C10.9311 4.28691 10.9654 4.30863 11.0484 4.30748C11.3696 4.30329 11.6908 4.30558 12.0119 4.30596L12.0116 4.30634Z",fill:"white"}})]),t._v("\n                                Xuất Excel\n                            ")])])])])],1),t._v(" "),e("div",{staticClass:"mt-8"},[e("div",{staticClass:"d-flex filter-warp flex-wrap"},[e("div",{staticClass:"w-100 m-1",staticStyle:{"min-width":"200px"}},[e("b-form-input",{attrs:{placeholder:"Tìm theo số điện thoại"},model:{value:t.tuKhoa,callback:function(e){t.tuKhoa=e},expression:"tuKhoa"}})],1),t._v(" "),e("div",{staticClass:"w-100 m-1",staticStyle:{"min-width":"200px"}},[e("b-form-input",{attrs:{placeholder:"Tìm theo tên phụ huynh"},model:{value:t.tuKhoaPH,callback:function(e){t.tuKhoaPH=e},expression:"tuKhoaPH"}})],1),t._v(" "),e("div",{staticClass:"w-100 m-1"},[e("b-form-select",{attrs:{options:t.trang_thai,"aria-placeholder":"Chọn"},model:{value:t.trang_thai_id,callback:function(e){t.trang_thai_id=e},expression:"trang_thai_id"}})],1),t._v(" "),e("div",{staticClass:"w-100 m-1"},[e("b-form-select",{attrs:{options:t.dich_vu,"aria-placeholder":"Chọn"},model:{value:t.dich_vu_id,callback:function(e){t.dich_vu_id=e},expression:"dich_vu_id"}})],1),t._v(" "),e("div",{staticClass:"w-100 m-1"},[e("b-form-select",{attrs:{options:t.leader_kd,"aria-placeholder":"Chọn"},model:{value:t.leader_kd_id,callback:function(e){t.leader_kd_id=e},expression:"leader_kd_id"}})],1),t._v(" "),e("div",{staticClass:"w-100"},[e("div",{staticClass:"d-flex"},[e(d.a,{ref:"dialog1",attrs:{"return-value":t.date1,persistent:"",width:"290px"},on:{"update:returnValue":function(e){t.date1=e},"update:return-value":function(e){t.date1=e}},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,l=n.attrs;return[e(v.a,t._g(t._b({staticClass:"month-picker me-3",attrs:{label:"","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.date1,callback:function(e){t.date1=e},expression:"date1"}},"v-text-field",l,!1),o))]}}]),model:{value:t.modal1,callback:function(e){t.modal1=e},expression:"modal1"}},[t._v(" "),e(r.a,{attrs:{type:"date",scrollable:""},model:{value:t.date1,callback:function(e){t.date1=e},expression:"date1"}},[e(c.a),t._v(" "),e(l.a,{attrs:{text:"",color:"primary"},on:{click:function(e){t.modal1=!1}}},[t._v("\n                                        Cancel\n                                    ")]),t._v(" "),e(l.a,{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.dialog1.save(t.date1)}}},[t._v("\n                                        OK\n                                    ")])],1)],1),t._v(" "),e(d.a,{ref:"dialog",attrs:{"return-value":t.date,persistent:"",width:"290px"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,l=n.attrs;return[e(v.a,t._g(t._b({staticClass:"month-picker",attrs:{label:"","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},"v-text-field",l,!1),o))]}}]),model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[t._v(" "),e(r.a,{attrs:{type:"date",scrollable:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[e(c.a),t._v(" "),e(l.a,{attrs:{text:"",color:"primary"},on:{click:function(e){t.modal=!1}}},[t._v("\n                                        Cancel\n                                    ")]),t._v(" "),e(l.a,{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.dialog.save(t.date)}}},[t._v("\n                                        OK\n                                    ")])],1)],1)],1)])]),t._v(" "),e("table",{staticClass:"table table-bordered table-hover table-striped"},[e("thead",{staticClass:"bg-primary"},[e("th",[e("tr",[e("span",{staticClass:"text-light"},[t._v("Ngày đóng")])])]),t._v(" "),e("th",[e("tr",[e("span",{staticClass:"text-light"},[t._v("Phụ huynh")])])]),t._v(" "),e("th",[e("tr",[e("span",{staticClass:"text-light"},[t._v("Gói")])])]),t._v(" "),e("th",[e("tr",[e("span",{staticClass:"text-light"},[t._v("Mã đơn")])])]),t._v(" "),e("th",[e("tr",[e("span",{staticClass:"text-light"},[t._v("Dịch vụ")])])]),t._v(" "),e("th",[e("tr",[e("span",{staticClass:"text-light"},[t._v("Trạng thái")])])]),t._v(" "),e("th",[e("tr",[e("span",{staticClass:"text-light"},[t._v("Số buổi hoàn thành")])])])]),t._v(" "),e("tbody",t._l(t.data,(function(n,o){var l,r,d,c,v;return e("tr",{key:o},[e("td",[e("span",[t._v("\n                                    "+t._s(null==n?void 0:n.ngay_thanh_toan)+"\n                                ")])]),t._v(" "),e("td",[null!=n&&n.phuHuynh?e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"box-img me-2"},[e("img",{attrs:{src:null==n||null===(l=n.phuHuynh)||void 0===l?void 0:l.image}})]),t._v(" "),e("div",[e("div",{staticClass:"blade blade-id"},[t._v("# "+t._s(null==n||null===(r=n.phuHuynh)||void 0===r?void 0:r.id))]),t._v(" "),e("div",{staticClass:"user-name"},[t._v("\n                                            "+t._s(null!==(d=null==n||null===(c=n.phuHuynh)||void 0===c?void 0:c.hoten)&&void 0!==d?d:"Chưa cập nhật tên")+"\n                                        ")]),t._v(" "),e("div",{},[t._v("\n                                            "+t._s(null==n||null===(v=n.phuHuynh)||void 0===v?void 0:v.dien_thoai)+"\n                                        ")])])]):t._e()]),t._v(" "),e("td",[e("span",{staticClass:"text-danger"},[t._v("\n                                    "+t._s(t.formatCurrency(null==n?void 0:n.goi))+"\n                                ")])]),t._v(" "),e("td",[e("span",[e("nuxt-link",{attrs:{to:"/admin/orders/"+(null==n?void 0:n.id)}},[t._v("\n                                        "+t._s(null==n?void 0:n.ma_don_hang)+"\n                                    ")])],1)]),t._v(" "),e("td",[e("span",[t._v("\n                                    "+t._s(null==n?void 0:n.dichVu)+"\n                                ")])]),t._v(" "),e("td",[e("span",[t._v("\n                                    "+t._s(null==n?void 0:n.trang_thai)+"\n                                ")])]),t._v(" "),e("td",[e("span",[t._v("\n                                    "+t._s(null==n?void 0:n.soBuoiHoanThanh)+"\n                                ")])])])})),0)])]),t._v(" "),e("div",{staticClass:"d-flex justify-content-center mt-4"},[e("b-pagination",{attrs:{"total-rows":t.total,"per-page":t.per_page,"first-text":"First","prev-text":"Prev","next-text":"Next","last-text":"Last"},model:{value:t.current_page,callback:function(e){t.current_page=e},expression:"current_page"}})],1)])],1)],1)}),[],!1,null,"5a7268a6",null);e.default=component.exports;installComponents(component,{TitleHeader:n(726).default})},723:function(t,e,n){var content=n(728);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("794e685a",content,!0,{sourceMap:!1})},726:function(t,e,n){"use strict";n.r(e);n(727);var o=n(36),component=Object(o.a)({},(function(){return(0,this._self._c)("h3",{staticClass:"title-component"},[this._t("default")],2)}),[],!1,null,"4f45fb1e",null);e.default=component.exports},727:function(t,e,n){"use strict";n(723)},728:function(t,e,n){var o=n(21)((function(i){return i[1]}));o.push([t.i,".title-component[data-v-4f45fb1e]{color:#2d2d2d;font-family:SVN-Gilroy;font-size:19px;font-style:normal;font-weight:700;line-height:normal;margin:0}",""]),o.locals={},t.exports=o},773:function(t,e,n){var content=n(789);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("01dee803",content,!0,{sourceMap:!1})},788:function(t,e,n){"use strict";n(773)},789:function(t,e,n){var o=n(21)((function(i){return i[1]}));o.push([t.i,".order-service-title[data-v-8b6aa0de]{color:#2d2d2d;font-family:SVN-Gilroy;font-size:14px;font-style:normal;font-weight:600;line-height:normal}.month-picker[data-v-8b6aa0de]{width:118px}.chart-title[data-v-8b6aa0de]{color:#2d2d2d;font-family:SVN-Gilroy;font-size:16px;font-style:normal;font-weight:700;line-height:normal}.text-c-danger[data-v-8b6aa0de]{color:#fa4d32}.text-c-primary[data-v-8b6aa0de]{color:#0056b1}.text-c-warning[data-v-8b6aa0de]{color:#ffb761}.text-c-success[data-v-8b6aa0de]{color:#00c092}.text-admin .text-span[data-v-8b6aa0de]{color:rgba(45,45,45,.8);font-size:12px;font-weight:400}.text-admin .text[data-v-8b6aa0de],.text-admin .text-span[data-v-8b6aa0de]{font-family:SVN-Gilroy;font-style:normal;line-height:normal}.text-admin .text[data-v-8b6aa0de]{font-size:14px;font-weight:600}.text-admin .text-c-primary[data-v-8b6aa0de]{color:#0056b1!important}.text-admin .text-c-warning[data-v-8b6aa0de]{color:#ffb761!important}.text-admin .text-c-danger[data-v-8b6aa0de]{color:#fc4d32!important}.text-admin .text-c-success[data-v-8b6aa0de]{color:#00c092!important}.c-primary[data-v-8b6aa0de]{background:#0056b1!important}.c-danger[data-v-8b6aa0de]{background:#fc4d32!important}.c-warning[data-v-8b6aa0de]{background:#ffb761!important}.c-success[data-v-8b6aa0de]{background:#00c092!important}",""]),o.locals={},t.exports=o},808:function(t,e,n){"use strict";n.r(e);var o=n(277),l=n(1157),r=n(1154),d=n(715),c=n(781),v=n(13),h=(n(42),n(6),n(15),n(28),n(65)),_=(n(506),n(29),{name:"CustomerReport",data:function(){return{title:{name:null,previous:"/admin/dashboard"},data:null,date:(new Date).toISOString(),date1:(new Date).toISOString(),month:1,menu:!1,modal:!1,modal1:!1,selected:0,options:[{value:0,text:"Tất cả"},{value:1,text:"Giáo viên"}]}},computed:{token:function(){return JSON.parse(localStorage.getItem("user")).auth_key}},methods:{load_data:function(){var t=this;return Object(v.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.default.get("bao-cao/tong-quan-khach-hang?thang="+(null!==(n=t.month)&&void 0!==n?n:"")+"&tuNgay=".concat(t.date1,"&denNgay=").concat(t.date),{"Content-Type":"multipart/form-data",Authorization:"Bearer "+t.token}).then((function(e){var n;console.log(e),t.data=null==e||null===(n=e.data)||void 0===n?void 0:n.data}));case 2:case"end":return e.stop()}}),e)})))()},updateFilter:function(filter){var t=this;return Object(v.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,filter;case 2:if(e.t1=n=e.sent,e.t0=null!==e.t1,!e.t0){e.next=6;break}e.t0=void 0!==n;case 6:if(!e.t0){e.next=10;break}e.t2=n,e.next=11;break;case 10:e.t2="";case 11:return t.selectedFilter=e.t2,e.next=14,t.load_data();case 14:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=new Date,e=(o=t.getFullYear())+"-"+(n=("0"+(t.getMonth()+1)).slice(-2))+"-"+(l=("0"+t.getDate()).slice(-2));this.date=e;var n=("0"+t.getMonth()).slice(-2),o=t.getFullYear(),l=("0"+t.getDate()).slice(-2);this.date1=o+"-"+n+"-"+l,this.$store.dispatch("title/set_title",this.title),this.month=this.date.split("-")[2]+"/"+this.date.split("-")[1]+"/"+this.date.split("-")[0],this.load_data()},watch:{date:function(){console.log(this.date);var t=this.date.split("-");console.log(t),this.month=t[2]+"/"+t[1]+"/"+t[0],this.load_data()},date1:function(){console.log(this.date1);var t=this.date1.split("-");console.log(t),this.month=t[2]+"/"+t[1]+"/"+t[0],this.load_data()}}}),f=(n(788),n(36)),component=Object(f.a)(_,(function(){var t=this,e=t._self._c;return e("b-card",{staticClass:"mb-2 hover-card h-100",staticStyle:{"min-width":"245px"}},[e("div",{staticClass:"d-flex justify-content-between align-center"},[e("div",{staticClass:"w-100"},[e("div",{staticClass:"d-flex justify-content-between align-items-center mb-2"},[e("label",{staticClass:"chart-title"},[t._v("Tổng quan đơn hàng")]),t._v(" "),e("div",{staticClass:"d-flex"},[e(r.a,{ref:"dialog1",attrs:{"return-value":t.date1,persistent:"",width:"290px"},on:{"update:returnValue":function(e){t.date1=e},"update:return-value":function(e){t.date1=e}},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,l=n.attrs;return[e(c.a,t._g(t._b({staticClass:"month-picker me-3",attrs:{label:"","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.date1,callback:function(e){t.date1=e},expression:"date1"}},"v-text-field",l,!1),o))]}}]),model:{value:t.modal1,callback:function(e){t.modal1=e},expression:"modal1"}},[t._v(" "),e(l.a,{attrs:{type:"date",scrollable:""},model:{value:t.date1,callback:function(e){t.date1=e},expression:"date1"}},[e(d.a),t._v(" "),e(o.a,{attrs:{text:"",color:"primary"},on:{click:function(e){t.modal1=!1}}},[t._v("\n                                Cancel\n                            ")]),t._v(" "),e(o.a,{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.dialog1.save(t.date1)}}},[t._v("\n                                OK\n                            ")])],1)],1),t._v(" "),e(r.a,{ref:"dialog",attrs:{"return-value":t.date,persistent:"",width:"290px"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,l=n.attrs;return[e(c.a,t._g(t._b({staticClass:"month-picker",attrs:{label:"","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},"v-text-field",l,!1),o))]}}]),model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[t._v(" "),e(l.a,{attrs:{type:"date",scrollable:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[e(d.a),t._v(" "),e(o.a,{attrs:{text:"",color:"primary"},on:{click:function(e){t.modal=!1}}},[t._v("\n                                Cancel\n                            ")]),t._v(" "),e(o.a,{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.dialog.save(t.date)}}},[t._v("\n                                OK\n                            ")])],1)],1)],1)]),t._v(" "),t._l(t.data,(function(n,o){return e("div",{key:o,staticClass:"w-100 mb-4"},[e("div",{staticClass:"order-service-title mb-2"},[t._v("\n                    "+t._s(null==n?void 0:n.ten_dich_vu)+"\n                ")]),t._v(" "),e("b-progress",{staticClass:"mb-1",attrs:{max:"100","show-value":""}},[e("b-progress-bar",{attrs:{value:100*parseInt(null==n?void 0:n.dang_khao_sat)/(parseInt(null==n?void 0:n.dang_day)+parseInt(null==n?void 0:n.chua_co_gv)+parseInt(null==n?void 0:n.da_huy)+parseInt(null==n?void 0:n.hoan_thanh)+parseInt(null==n?void 0:n.dang_khao_sat)),variant:"info"}}),t._v(" "),e("b-progress-bar",{staticClass:"c-primary",attrs:{value:100*parseInt(null==n?void 0:n.dang_day)/(parseInt(null==n?void 0:n.dang_day)+parseInt(null==n?void 0:n.chua_co_gv)+parseInt(null==n?void 0:n.da_huy)+parseInt(null==n?void 0:n.hoan_thanh)+parseInt(null==n?void 0:n.dang_khao_sat)),variant:"success"}}),t._v(" "),e("b-progress-bar",{staticClass:"c-warning",attrs:{value:100*parseInt(null==n?void 0:n.chua_co_gv)/(parseInt(null==n?void 0:n.dang_day)+parseInt(null==n?void 0:n.chua_co_gv)+parseInt(null==n?void 0:n.da_huy)+parseInt(null==n?void 0:n.hoan_thanh)+parseInt(null==n?void 0:n.dang_khao_sat)),variant:"warning"}}),t._v(" "),e("b-progress-bar",{staticClass:"c-danger",attrs:{value:100*parseInt(null==n?void 0:n.da_huy)/(parseInt(null==n?void 0:n.dang_day)+parseInt(null==n?void 0:n.chua_co_gv)+parseInt(null==n?void 0:n.da_huy)+parseInt(null==n?void 0:n.hoan_thanh)+parseInt(null==n?void 0:n.dang_khao_sat)),variant:"danger"}}),t._v(" "),e("b-progress-bar",{staticClass:"c-success",attrs:{value:100*parseInt(null==n?void 0:n.hoan_thanh)/(parseInt(null==n?void 0:n.dang_day)+parseInt(null==n?void 0:n.chua_co_gv)+parseInt(null==n?void 0:n.da_huy)+parseInt(null==n?void 0:n.hoan_thanh)+parseInt(null==n?void 0:n.dang_khao_sat)),variant:"info"}})],1),t._v(" "),e("div",{staticClass:"d-flex justify-content-between align-items-center mb-2"},[e("div",{staticClass:"text-admin"},[e("span",{staticClass:"text text-info"},[t._v(t._s(null==n?void 0:n.dang_khao_sat))]),t._v(" "),e("span",{staticClass:"text-span"},[t._v("Đang khảo sát")])]),t._v(" "),e("div",{staticClass:"text-admin"},[e("span",{staticClass:"text text-c-primary"},[t._v(t._s(null==n?void 0:n.dang_day))]),t._v(" "),e("span",{staticClass:"text-span"},[t._v("Đang dạy")])]),t._v(" "),e("div",{staticClass:"text-admin"},[e("span",{staticClass:"text text-c-warning"},[t._v(t._s(null==n?void 0:n.chua_co_gv))]),t._v(" "),e("span",{staticClass:"text-span"},[t._v("Chưa có GV")])]),t._v(" "),e("div",{staticClass:"text-admin"},[e("span",{staticClass:"text text-c-danger"},[t._v(t._s(null==n?void 0:n.da_huy))]),t._v(" "),e("span",{staticClass:"text-span"},[t._v("Hủy")])]),t._v(" "),e("div",{staticClass:"text-admin"},[e("span",{staticClass:"text text-c-success"},[t._v(t._s(null==n?void 0:n.hoan_thanh))]),t._v(" "),e("span",{staticClass:"text-span"},[t._v("Hoàn thành")])])])],1)}))],2)])])}),[],!1,null,"8b6aa0de",null);e.default=component.exports},861:function(t,e,n){var content=n(985);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("381547b7",content,!0,{sourceMap:!1})},984:function(t,e,n){"use strict";n(861)},985:function(t,e,n){var o=n(21)((function(i){return i[1]}));o.push([t.i,".box-img[data-v-5a7268a6]{border-radius:50%;height:35px;overflow:hidden;width:35px}.box-img img[data-v-5a7268a6]{height:100%;-o-object-fit:cover;object-fit:cover;width:100%}.span[data-v-5a7268a6]{color:#2d2d2d;font-family:SVN-Gilroy;font-size:14px;font-style:normal;font-weight:500;line-height:normal}.blade-id[data-v-5a7268a6]{display:inline;display:initial}.user-name[data-v-5a7268a6]{color:#0056b1;font-family:SVN-Gilroy;font-size:14px;font-style:normal;font-weight:500;line-height:normal;text-decoration-line:underline}",""]),o.locals={},t.exports=o}}]);